<ng-container *ngIf="dirtyOrTouchedChanges$ | async"></ng-container>

<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="grid grid-rows-4 grid-cols-2 gap-4"
>
  <mat-form-field appearance="fill">
    <mat-label>Nombre</mat-label>
    <input matInput placeholder="John" [formControlName]="'name'" />
    <mat-error *ngIf="name.hasError('required')">
      Nombre es requerido
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Email</mat-label>
    <input
      matInput
      placeholder="john.doe@example.com"
      [formControlName]="'email'"
    />
    <mat-error *ngIf="email.hasError('required')">
      Correo es requerido
    </mat-error>
    <mat-error *ngIf="email.hasError('email')">
      Formato de correo invalido
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Contraseña</mat-label>
    <input matInput placeholder="123456" [formControlName]="'password'" />
    <mat-error *ngIf="password.hasError('required')">
      Contraseña es requerida
    </mat-error>
  </mat-form-field>

  <button
    mat-button
    color="primary"
    type="submit"
    [disabled]="!form.valid || form.disabled"
    class="col-span-2"
  >
    Registrarse
  </button>
</form>
